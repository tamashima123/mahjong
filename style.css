body {
    margin: 0;
    background-color: #2e3b2e; /* 雀卓の緑 */
    color: white;
    font-family: sans-serif;
    overflow: hidden;
    user-select: none;
}

/* --- タイトル画面 --- */
#title-screen {
    position: fixed;
    top: 0; left: 0; width: 100%; height: 100%;
    background: rgba(0, 0, 0, 0.85);
    z-index: 2000; /* 最前面 */
    display: flex;
    justify-content: center;
    align-items: center;
}
.title-content {
    text-align: center;
    border: 2px solid #d4af37;
    padding: 40px;
    background: #222;
    border-radius: 10px;
}
.title-content h1 {
    font-size: 3em;
    margin: 0 0 10px 0;
    color: #d4af37; /* 金色 */
}
.title-btn {
    margin-top: 20px;
    padding: 15px 40px;
    font-size: 1.5em;
    cursor: pointer;
    background: #d62828;
    color: white;
    border: none;
    border-radius: 5px;
    transition: transform 0.1s;
}
.title-btn:hover { transform: scale(1.05); }
.hidden { display: none !important; }

/* --- ゲームレイアウト --- */
#game-container {
    position: relative;
    width: 100vw; height: 100vh;
    display: grid;
    grid-template-columns: 15% 70% 15%;
    grid-template-rows: 15% 55% 30%;
}

.player-area { position: relative; display: flex; flex-direction: column; align-items: center; justify-content: center; }
.top { grid-column: 2; grid-row: 1; flex-direction: row-reverse; } /* 上家 */
.left { grid-column: 1; grid-row: 2; flex-direction: column-reverse; } /* 対面 */
.right { grid-column: 3; grid-row: 2; flex-direction: column; } /* 下家 */
.bottom { grid-column: 2; grid-row: 3; justify-content: flex-end; padding-bottom: 20px; } /* 自分 */

.river {
    display: flex; flex-wrap: wrap; width: 200px; height: 120px;
    background: rgba(0,0,0,0.2); border-radius: 4px; padding: 2px;
    justify-content: flex-start; align-content: flex-start;
}
.active-turn .river { background: rgba(255, 255, 0, 0.1); box-shadow: 0 0 10px yellow; }

/* 牌のデザイン */
.hand-wrapper { display: flex; align-items: flex-end; height: 60px; margin: 10px; }
.tile {
    width: 34px; height: 48px;
    background: #f0f0f0; color: #000;
    border: 1px solid #999; border-radius: 3px;
    display: flex; justify-content: center; align-items: center;
    font-size: 24px; font-weight: bold;
    margin-right: 2px; cursor: pointer;
    box-shadow: 1px 1px 2px rgba(0,0,0,0.5);
    position: relative;
}
.tile[data-type="m"] { color: #800000; }
.tile[data-type="p"] { color: #000080; }
.tile[data-type="s"] { color: #006400; }
.tile[data-type="z"] { color: #000; }
.tile[data-type="z"][data-id="5z"], .tile[data-type="z"][data-id="7z"] { color: #d62828; } /* 白はそのまま、發・中は赤くする例(簡易) */
.tile.back { background: #e8a87c; color: transparent; border: 1px solid #c07040; }

/* 鳴きエリア */
.meld-area { position: absolute; right: 0; bottom: 80px; display: flex; transform: scale(0.8); }
.meld-group { display: flex; margin-left: 10px; border-bottom: 2px solid #aaa; }

/* 中央情報 */
.center-info {
    grid-column: 2; grid-row: 2;
    display: flex; flex-direction: column; justify-content: center; align-items: center;
    z-index: 10; pointer-events: none;
}
#notification-area { background: rgba(0,0,0,0.6); padding: 10px 20px; border-radius: 5px; font-size: 1.2em; margin-bottom: 10px; color: #ffeb3b; }
.info-row { display: flex; align-items: center; gap: 10px; font-size: 1.2em; background: rgba(0,0,0,0.4); padding: 5px 15px; border-radius: 20px;}

/* アクションボタン */
#actions { position: absolute; top: -60px; display: flex; gap: 10px; z-index: 100; }
.act-btn {
    padding: 10px 20px; font-size: 16px; font-weight: bold;
    color: white; background: linear-gradient(to bottom, #ff5f6d, #ffc371);
    border: 2px solid #fff; border-radius: 20px;
    cursor: pointer; box-shadow: 0 4px 6px rgba(0,0,0,0.3);
}
.act-btn:hover { transform: scale(1.1); }
.act-btn:active { transform: scale(0.95); }

/* リーチ棒 */
.riichi-stick { width: 80px; height: 10px; background: white; border: 1px solid red; border-radius: 5px; box-shadow: 2px 2px 2px rgba(0,0,0,0.5); display: none; margin: 5px; }

/* モーダル */
#result-modal {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background: rgba(0,0,0,0.8); z-index: 3000;
    display: flex; justify-content: center; align-items: center;
}
.modal-content { background: white; color: black; padding: 30px; border-radius: 10px; text-align: center; min-width: 300px; }
.yaku-item { font-size: 1.2em; margin: 5px 0; border-bottom: 1px dotted #ccc; }
#res-score { font-size: 2em; margin: 20px 0; font-weight: bold; color: #d62828; }
